(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{50477:()=>{},95590:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,19324,23)),Promise.resolve().then(r.bind(r,89236)),Promise.resolve().then(r.bind(r,14627)),Promise.resolve().then(r.bind(r,34010)),Promise.resolve().then(r.bind(r,98192)),Promise.resolve().then(r.t.bind(r,65688,23)),Promise.resolve().then(r.t.bind(r,39432,23))},89236:(e,t,r)=>{"use strict";r.d(t,{PWAProvider:()=>s});var o=r(95155),a=r(12115);function s(){return(0,a.useEffect)(()=>{if("serviceWorker"in navigator){let e;window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t;let r=document.getElementById("install-btn");r&&(r.style.display="block",r.addEventListener("click",async()=>{if(e){e.prompt();let{outcome:t}=await e.userChoice;"accepted"===t?console.log("App installed"):console.log("App install cancelled"),e=null}}))})}},[]),(0,o.jsx)("button",{id:"install-btn",style:{display:"none"},className:"fixed bottom-4 right-4 bg-blue-500 text-white p-2 rounded",children:"Install App"})}},14627:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});var o=r(95155);r(12115);var a=r(67113);function s(e){let{children:t,...r}=e;return(0,o.jsx)(a.N,{...r,children:t})}},34010:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var o=r(95155),a=r(67113),s=r(30814);let n=e=>{let{...t}=e,{theme:r="system"}=(0,a.D)();return(0,o.jsx)(s.l$,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},98192:(e,t,r)=>{"use strict";r.d(t,{SessionProvider:()=>i});var o=r(95155),a=r(12115),s=r(76046),n=r(30814),l=r(41748);function i(e){let{children:t}=e,r=(0,s.useRouter)(),i=(0,s.usePathname)(),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=async()=>{if("/login"===i||"/"===i){d(!1);return}try{let e=await (0,l.mj)();if(!e){r.push("/login");return}let t=await fetch("https://blue-lion-79.telebit.io/api/auth/session",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();await (0,l.Ui)(e.accessToken)}else await (0,l.WY)(),n.oR.error("Session Expired",{description:"Please log in again.",duration:3e3}),r.push("/login")}catch(e){console.error("Session check failed:",e),n.oR.error("Network Error",{description:"Unable to validate session. Please try again.",duration:3e3}),await (0,l.WY)(),r.push("/login")}finally{d(!1)}};e();let t=setInterval(e,36e5);return()=>clearInterval(t)},[r,i]),c)?(0,o.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-black",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})}):(0,o.jsx)(o.Fragment,{children:t})}},41748:(e,t,r)=>{"use strict";r.d(t,{Ui:()=>i,WY:()=>d,mj:()=>c});var o=r(7478),a=r.n(o);let s="123slatt",n=e=>a().AES.encrypt(e,s).toString(),l=e=>a().AES.decrypt(e,s).toString(a().enc.Utf8),i=e=>{try{let t=n(e);localStorage.setItem("accessToken",t)}catch(e){console.error("Failed to store token",e)}},c=()=>{try{let e=localStorage.getItem("accessToken");return e?l(e):null}catch(e){return console.error("Failed to retrieve token",e),null}},d=()=>{localStorage.removeItem("accessToken")}},76046:(e,t,r)=>{"use strict";var o=r(66658);r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})},19324:()=>{},65688:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},39432:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}},67113:(e,t,r)=>{"use strict";r.d(t,{D:()=>d,N:()=>u});var o=r(12115),a=(e,t,r,o,a,s,n,l)=>{let i=document.documentElement,c=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,o=r&&s?a.map(e=>s[e]||e):a;r?(i.classList.remove(...o),i.classList.add(t)):i.setAttribute(e,t)}),l&&c.includes(t)&&(i.style.colorScheme=t)}if(o)d(o);else try{let e=localStorage.getItem(t)||r,o=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(o)}catch(e){}},s=["light","dark"],n="(prefers-color-scheme: dark)",l="undefined"==typeof window,i=o.createContext(void 0),c={setTheme:e=>{},themes:[]},d=()=>{var e;return null!=(e=o.useContext(i))?e:c},u=e=>o.useContext(i)?o.createElement(o.Fragment,null,e.children):o.createElement(h,{...e}),m=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:a=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:d=m,defaultTheme:u=a?"system":"light",attribute:h="data-theme",value:y,children:v,nonce:w,scriptProps:S}=e,[k,E]=o.useState(()=>g(c,u)),[P,T]=o.useState(()=>g(c)),x=y?Object.values(y):d,_=o.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=b());let o=y?y[t]:t,n=r?f(w):null,i=document.documentElement,c=e=>{"class"===e?(i.classList.remove(...x),o&&i.classList.add(o)):e.startsWith("data-")&&(o?i.setAttribute(e,o):i.removeAttribute(e))};if(Array.isArray(h)?h.forEach(c):c(h),l){let e=s.includes(u)?u:null,r=s.includes(t)?t:e;i.style.colorScheme=r}null==n||n()},[w]),C=o.useCallback(e=>{let t="function"==typeof e?e(k):e;E(t);try{localStorage.setItem(c,t)}catch(e){}},[k]),N=o.useCallback(e=>{T(b(e)),"system"===k&&a&&!t&&_("system")},[k,t]);o.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(N),N(e),()=>e.removeListener(N)},[N]),o.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?E(e.newValue):C(u))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[C]),o.useEffect(()=>{_(null!=t?t:k)},[t,k]);let A=o.useMemo(()=>({theme:k,setTheme:C,forcedTheme:t,resolvedTheme:"system"===k?P:k,themes:a?[...d,"system"]:d,systemTheme:a?P:void 0}),[k,C,t,P,a,d]);return o.createElement(i.Provider,{value:A},o.createElement(p,{forcedTheme:t,storageKey:c,attribute:h,enableSystem:a,enableColorScheme:l,defaultTheme:u,value:y,themes:d,nonce:w,scriptProps:S}),v)},p=o.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:n,enableColorScheme:l,defaultTheme:i,value:c,themes:d,nonce:u,scriptProps:m}=e,h=JSON.stringify([s,r,i,t,d,c,n,l]).slice(1,-1);return o.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:"(".concat(a.toString(),")(").concat(h,")")}})}),g=(e,t)=>{let r;if(!l){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},b=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")}},e=>{var t=t=>e(e.s=t);e.O(0,[261,478,814,441,517,358],()=>t(95590)),_N_E=e.O()}]);